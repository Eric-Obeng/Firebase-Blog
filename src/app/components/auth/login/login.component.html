<div class="login-div" role="form" aria-labelledby="login-heading">
  <div class="login-form">
    <h2 id="login-heading">Login</h2>
    <form
      [formGroup]="loginForm"
      (ngSubmit)="onLogin()"
      aria-label="Login form"
      class="form"
    >
      <!-- Email Field -->
      <div class="email form-group">
        <label for="email">Email</label>
        <input
          type="email"
          name="email"
          id="email"
          formControlName="email"
          autocomplete="email"
          aria-required="true"
          aria-describedby="email-help"
        />
        <!-- Error messages for email -->
        <p
          *ngIf="
            loginForm.get('email')?.touched &&
            loginForm.get('email')?.dirty &&
            loginForm.get('email')?.hasError('required')
          "
          class="error"
        >
          Email is required.
        </p>
        <p
          *ngIf="
            loginForm.get('email')?.touched &&
            loginForm.get('email')?.dirty &&
            loginForm.get('email')?.hasError('email')
          "
          class="error"
        >
          Please enter a valid email address.
        </p>
      </div>

      <!-- Password Field -->
      <div class="password form-group">
        <label for="password">Password</label>
        <input
          type="password"
          name="password"
          id="password"
          formControlName="password"
          autocomplete="current-password"
          aria-required="true"
          aria-describedby="password-help"
        />
        <!-- Error messages for password -->
        <p
          *ngIf="
            loginForm.get('password')?.touched &&
            loginForm.get('password')?.dirty &&
            loginForm.get('password')?.hasError('required')
          "
          class="error"
        >
          Password is required.
        </p>
        <p
          *ngIf="
            loginForm.get('password')?.touched &&
            loginForm.get('password')?.dirty &&
            loginForm.get('password')?.hasError('minlength')
          "
          class="error"
        >
          Password must be at least 6 characters long.
        </p>
      </div>

      <!-- Google Sign In Button -->
      <div class="form-group">
        <button
          type="button"
          (click)="onGoogleSignIn()"
          aria-label="Sign in with Google"
        >
          Sign in with Google
        </button>
      </div>

      <!-- Error message display from auth service -->
      <p *ngIf="errorMessage" class="error-message" role="alert">
        {{ errorMessage }}
      </p>

      <!-- Submit Button -->
      <div class="submit form-group">
        <button type="submit" aria-label="Submit login form">Login</button>
      </div>

      <!-- Register Link -->
      <div class="form-group">
        <p class="account">
          Don't have an account?
          <a [routerLink]="['', 'register']" aria-label="Register an account"
            >Register</a
          >
        </p>
      </div>
    </form>
  </div>
</div>

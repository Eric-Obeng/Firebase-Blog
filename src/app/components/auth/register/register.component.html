<div class="register-container" role="form" aria-labelledby="register-heading">
  <div class="register-form">
    <h2 id="register-heading">Register</h2>
    <form
      [formGroup]="registerForm"
      (ngSubmit)="onRegister()"
      aria-label="Registration form"
      class="form"
    >
      <div class="username form-group">
        <label for="username">User Name</label>
        <input
          type="text"
          name="username"
          id="username"
          formControlName="username"
          autocomplete="name"
          aria-required="true"
          aria-describedby="username-help"
        />
        <span id="username-help" class="visually-hidden">
          Please enter your username.
        </span>
        <!-- Error message for username -->
        <p
          *ngIf="
            registerForm.get('username')?.invalid &&
            (registerForm.get('username')?.touched ||
              registerForm.get('username')?.dirty)
          "
          class="error-message"
        >
          <ng-container
            *ngIf="registerForm.get('username')?.errors?.['required']"
            >Username is required.</ng-container
          >
        </p>
      </div>
      <div class="email form-group">
        <label for="email">Email</label>
        <input
          type="email"
          name="email"
          id="email"
          formControlName="email"
          autocomplete="email"
          aria-required="true"
          aria-describedby="email-help"
        />
        <span id="email-help" class="visually-hidden">
          Please enter your email address.
        </span>
        <!-- Error message for email -->
        <p
          *ngIf="
            registerForm.get('email')?.invalid &&
            (registerForm.get('email')?.touched ||
              registerForm.get('email')?.dirty)
          "
          class="error-message"
        >
          <ng-container *ngIf="registerForm.get('email')?.errors?.['required']"
            >Email is required.</ng-container
          >
          <ng-container *ngIf="registerForm.get('email')?.errors?.['email']"
            >Please enter a valid email address.</ng-container
          >
        </p>
      </div>
      <div class="password form-group">
        <label for="password">Password</label>
        <input
          type="password"
          name="password"
          id="password"
          formControlName="password"
          autocomplete="current-password"
          aria-required="true"
          aria-describedby="password-help"
        />
        <span id="password-help" class="visually-hidden">
          Please enter your password.
        </span>
        <!-- Error message for password -->
        <p
          *ngIf="
            registerForm.get('password')?.invalid &&
            (registerForm.get('password')?.touched ||
              registerForm.get('password')?.dirty)
          "
          class="error-message"
        >
          <ng-container
            *ngIf="registerForm.get('password')?.errors?.['required']"
            >Password is required.</ng-container
          >
          <ng-container
            *ngIf="registerForm.get('password')?.errors?.['minlength']"
            >Password must be at least 6 characters long.</ng-container
          >
        </p>
      </div>
      <div class="profile-img form-group">
        <label for="profile-img">Profile Image</label>
        <input
          type="file"
          name="profile-img"
          id="profile-img"
          (change)="onFileSelected($event)"
          accept="image/*"
          aria-describedby="profile-img-help"
        />
        <span id="profile-img-help" class="visually-hidden">
          Choose a profile image.
        </span>
      </div>
      <div class="submit-btn form-group">
        <button type="submit" aria-label="Submit registration form">
          Register
        </button>
      </div>

      <p *ngIf="errorMessage" class="error-message" role="alert">
        {{ errorMessage }}
      </p>
      <div form-group>
        <p class="account">
          Already have an account?
          <a [routerLink]="['', 'login']" aria-label="Login to your account"
            >Login</a
          >
        </p>
      </div>
    </form>
  </div>
</div>
